(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{146:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return u}));var r=n(1),i=n(9),a=(n(0),n(161)),o=n(163),c={title:"Introduction"},s={id:"introduction",title:"Introduction",description:"import useBaseUrl from '@docusaurus/useBaseUrl';",source:"@site/docs\\introduction.mdx",permalink:"/react-reparenting/docs/introduction",editUrl:"https://github.com/paol-imi/react-reparenting/edit/master/website/docs/introduction.mdx",sidebar:"docs",next:{title:"Installation \ud83d\udce6",permalink:"/react-reparenting/docs/installation"}},l=[{value:"What does it do? \ud83e\udd28",id:"what-does-it-do-\ud83e\udd28",children:[]},{value:"Under the hood",id:"under-the-hood",children:[]},{value:"React Native",id:"react-native",children:[]},{value:"Before continuing",id:"before-continuing",children:[]}],p={rightToc:l};function u(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("div",{align:"center"},Object(a.b)("img",{src:Object(o.a)("gifs/reparenting.gif"),width:"60%"})),Object(a.b)("h2",{id:"what-does-it-do-\ud83e\udd28"},"What does it do? \ud83e\udd28"),Object(a.b)("p",null,"Imagine that you have two Parent components, both with some Child components. To ",Object(a.b)("inlineCode",{parentName:"p"},"transfer")," a Child from one Parent to another, the components must be ",Object(a.b)("inlineCode",{parentName:"p"},"re-rendered")," with that Child in its new Parent. This procedure has obvious usability and performance ",Object(a.b)("inlineCode",{parentName:"p"},"limits"),", the transferred component is unmounted, re-mounted and loses its internal state, as well as all the nodes it has generated (such as a ",Object(a.b)("inlineCode",{parentName:"p"},"<div>"),")."),Object(a.b)("p",null,"React does not yet offer specific APIs to solve this problem, in many cases we try to deal with it using ",Object(a.b)("inlineCode",{parentName:"p"},"Portals")," and ",Object(a.b)("inlineCode",{parentName:"p"},"refs"),". This approach presents other problems, it is difficult to implement for large-scale apps and above all it does not give the feeling of being very ",Object(a.b)("inlineCode",{parentName:"p"},'"Reactive"'),". In fact, portals have been designed for other purposes, citing the documentation:"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"Portals provide a first-class way to render children into a DOM node that exists outside the DOM hierarchy of the parent component.")),Object(a.b)("p",null,"This process is more related to the DOM (or to the current environment), at ",Object(a.b)("inlineCode",{parentName:"p"},'"React level"')," the Child is still part of the same Parent. This is where ",Object(a.b)("inlineCode",{parentName:"p"},"React-reparenting")," intervenes."),Object(a.b)("p",null,"This package offers ",Object(a.b)("inlineCode",{parentName:"p"},"easy")," and ",Object(a.b)("inlineCode",{parentName:"p"},"intuitive")," tools to solve this problem. With a few lines of code you will be able to transfer your components, without them being re-mounted or losing their internal state."),Object(a.b)("h2",{id:"under-the-hood"},"Under the hood"),Object(a.b)("p",null,"Besides the tree of elements, React has a tree of internal instances used to keep the state. Starting from version 16, React rolled out a new implementation of that internal instances tree and the algorithm that manages it code-named ",Object(a.b)("inlineCode",{parentName:"p"},"Fiber"),".\nThis package does nothing more than transfer the internal instances of the children you want to reparent."),Object(a.b)("p",null,"If you are interested, there are very valid sources in which to deepen the topic:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/acdlite/react-fiber-architecture"}),"React fiber architecture")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"https://blog.logrocket.com/deep-dive-into-react-fiber-internals"}),"Deep dive into react fiber internals")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"https://medium.com/react-in-depth/inside-fiber-in-depth-overview-of-the-new-reconciliation-algorithm-in-react-e1c04700ef6e"}),"Inside fiber in depth overview of the new reconciliation algorithm in react"))),Object(a.b)("p",null,"In any case, it is ",Object(a.b)("strong",{parentName:"p"},"not necessary")," to know how React internals work to use this package."),Object(a.b)("h2",{id:"react-native"},"React Native"),Object(a.b)("p",null,"The default configuration is designed to work with ReactDOM. If you want to try implementing React-reparenting with other renderers, you can disable the ",Object(a.b)("inlineCode",{parentName:"p"},"DOM nodes transfer")," in the send method (since it wouldn't work without a DOM), and transfer manually the nodes you are working with. You can even try to ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"./renderer"}),"instruct")," the package to manage the types of nodes you are working with, in order to automate the process as happens with ReactDOM."),Object(a.b)("h2",{id:"before-continuing"},"Before continuing"),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"core")," of this project implements a very simple logic, and the tests created try to simulate more possible use cases that can occur in an app.\nGiven these positive premises, this project was born recently, so if you need to put it into production do appropriate tests first."))}u.isMDXComponent=!0},160:function(e,t,n){"use strict";var r=n(0),i=n(52);t.a=function(){return Object(r.useContext)(i.a)}},161:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var r=n(0),i=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=i.a.createContext({}),p=function(e){var t=i.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},u=function(e){var t=p(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},h=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(n),h=r,b=u["".concat(o,".").concat(h)]||u[h]||d[h]||a;return n?i.a.createElement(b,c({ref:t},l,{components:n})):i.a.createElement(b,c({ref:t},l))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=h;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var l=2;l<a;l++)o[l]=n[l];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(165);var r=n(160);function i(e){var t=(Object(r.a)().siteConfig||{}).baseUrl,n=void 0===t?"/":t;if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?n+e.slice(1):n+e}},165:function(e,t,n){"use strict";var r=n(12),i=n(24),a=n(167),o="".startsWith;r(r.P+r.F*n(168)("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return o?o.call(t,r,n):t.slice(n,n+r.length)===r}})},167:function(e,t,n){var r=n(76),i=n(25);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},168:function(e,t,n){var r=n(2)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(i){}}return!0}}}]);