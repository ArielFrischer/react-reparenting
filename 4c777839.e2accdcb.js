(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{108:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return u}));var r=n(1),i=n(6),o=(n(0),n(123)),a=n(126),c={title:"Introduction"},s={id:"introduction",title:"Introduction",description:"import useBaseUrl from '@docusaurus/useBaseUrl';",source:"@site/docs\\introduction.mdx",permalink:"/react-reparenting/docs/introduction",editUrl:"https://github.com/paol-imi/react-reparenting/edit/master/website/docs/introduction.mdx",sidebar:"docs",next:{title:"Installation \ud83d\udce6",permalink:"/react-reparenting/docs/installation"}},l=[{value:"What does it do? \ud83e\udd28",id:"what-does-it-do-\ud83e\udd28",children:[]},{value:"Under the hood",id:"under-the-hood",children:[]},{value:"Before continuing",id:"before-continuing",children:[]}],p={rightToc:l};function u(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("div",{align:"center"},Object(o.b)("img",{src:Object(a.a)("gifs/reparenting.gif"),width:"60%"})),Object(o.b)("h2",{id:"what-does-it-do-\ud83e\udd28"},"What does it do? \ud83e\udd28"),Object(o.b)("p",null,"Imagine that you have two Parent components, both with some Child components. To ",Object(o.b)("inlineCode",{parentName:"p"},"transfer")," a Child from one Parent to another, the components must be ",Object(o.b)("inlineCode",{parentName:"p"},"re-rendered")," with that Child in its new Parent. This procedure has obvious usability and performance ",Object(o.b)("inlineCode",{parentName:"p"},"limits"),", the transferred component is unmounted, re-mounted and loses its internal state, as well as all the nodes it has generated (such as a ",Object(o.b)("inlineCode",{parentName:"p"},"<div>"),")."),Object(o.b)("p",null,"React does not yet offer specific APIs to solve this problem, in many cases we try to deal with it using ",Object(o.b)("inlineCode",{parentName:"p"},"Portals")," and ",Object(o.b)("inlineCode",{parentName:"p"},"refs"),". This approach presents other problems, it is difficult to implement for large-scale apps and above all it does not give the feeling of being very ",Object(o.b)("inlineCode",{parentName:"p"},'"Reactive"'),". In fact, portals have been designed for other purposes, citing the documentation:"),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Portals provide a first-class way to render children into a DOM node that exists outside the DOM hierarchy of the parent component.")),Object(o.b)("p",null,"This process is more related to the DOM (or to the current environment), at ",Object(o.b)("inlineCode",{parentName:"p"},'"React level"')," the Child is still part of the same Parent. This is where ",Object(o.b)("inlineCode",{parentName:"p"},"React-reparenting")," intervenes."),Object(o.b)("p",null,"This package offers ",Object(o.b)("inlineCode",{parentName:"p"},"easy")," and ",Object(o.b)("inlineCode",{parentName:"p"},"intuitive")," tools to solve this problem. With a few lines of code you will be able to transfer your components, without them being re-mounted or losing their internal state."),Object(o.b)("h2",{id:"under-the-hood"},"Under the hood"),Object(o.b)("p",null,"Besides the tree of elements, React has a tree of internal instances used to keep the state. Starting from version 16, React rolled out a new implementation of that internal instances tree and the algorithm that manages it code-named ",Object(o.b)("inlineCode",{parentName:"p"},"Fiber"),".\nThis package does nothing more than transfer the internal instances of the children you want to reparent."),Object(o.b)("p",null,"If you are interested, there are very valid sources in which to deepen the topic, such as:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/acdlite/react-fiber-architecture"}),"React fiber architecture")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://blog.logrocket.com/deep-dive-into-react-fiber-internals"}),"Deep dive into react fiber internals")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://medium.com/react-in-depth/inside-fiber-in-depth-overview-of-the-new-reconciliation-algorithm-in-react-e1c04700ef6e"}),"Inside fiber in depth overview of the new reconciliation algorithm in react"))),Object(o.b)("p",null,"In any case, it is ",Object(o.b)("strong",{parentName:"p"},"not necessary")," to know how React internals work to use this package."),Object(o.b)("h2",{id:"before-continuing"},"Before continuing"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"core")," of this project implements a very simple logic, and the tests created try to simulate more possible use cases that can occur in an app.\nGiven these positive premises, this project was born recently, so if you need to put it into production do appropriate tests first."))}u.isMDXComponent=!0},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n(0),i=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=i.a.createContext({}),p=function(e){var t=i.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},u=function(e){var t=p(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},b=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,a=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(n),b=r,h=u["".concat(a,".").concat(b)]||u[b]||d[b]||o;return n?i.a.createElement(h,c({ref:t},l,{components:n})):i.a.createElement(h,c({ref:t},l))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var l=2;l<o;l++)a[l]=n[l];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},124:function(e,t,n){"use strict";var r=n(0),i=n(35);t.a=function(){return Object(r.useContext)(i.a)}},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(124);function i(e){const{siteConfig:t}=Object(r.a)(),{baseUrl:n="/"}=t||{};if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?n+e.slice(1):n+e}}}]);